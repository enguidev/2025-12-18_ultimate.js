<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DelegaciÃ³n de eventos 2</title>
    <script src="script.js" defer></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>ğŸ¯ DelegaciÃ³n de Eventos</h1>
      <p class="subtitle">
        Ejemplo prÃ¡ctico del documento 02_eventos_delegar captura.htm
      </p>

      <!-- EXPLICACIÃ“N -->
      <div class="section">
        <h2>ğŸ“š Â¿QuÃ© es la DelegaciÃ³n de Eventos?</h2>
        <div class="info-box">
          <strong>ğŸ’¡ Concepto:</strong> En lugar de asignar un evento a cada
          elemento hijo, asignamos UN SOLO evento al contenedor padre y
          aprovechamos la propagaciÃ³n (burbujeo) para capturar los clicks de
          todos los hijos.
        </div>
      </div>

      <!-- COMPARACIÃ“N -->
      <div class="section">
        <h2>âš–ï¸ ComparaciÃ³n de MÃ©todos</h2>
        <div class="comparison">
          <div class="comparison-item bad">
            <h3>âŒ Sin DelegaciÃ³n (Ineficiente)</h3>
            <div class="code-example">
              <span class="comment">// Asignar evento a CADA cuadrado</span>
              <span class="keyword">for</span> (<span class="keyword">let</span>
              i = 0; i < 10; i++) { cuadrado[i].addEventListener(<span
                class="string"
                >'click'</span
              >, <span class="keyword">function</span>() {
              <span class="comment">// 10 event listeners! ğŸ˜±</span>
              }); }
            </div>
            <p><strong>Problemas:</strong></p>
            <ul>
              <li>MÃ¡s consumo de memoria</li>
              <li>Elementos dinÃ¡micos no funcionan</li>
              <li>MÃ¡s difÃ­cil de mantener</li>
            </ul>
          </div>

          <div class="comparison-item good">
            <h3>âœ… Con DelegaciÃ³n (Eficiente)</h3>
            <div class="code-example">
              <span class="comment">// UN SOLO evento en el padre</span>
              contenedor.addEventListener(<span class="string">'click'</span>,
              <span class="keyword">function</span>(e) {
              <span class="keyword">if</span> (e.target.classList.contains(<span
                class="string"
                >'cuadrado'</span
              >)) {
              <span class="comment">// Â¡Solo 1 event listener! ğŸ‰</span>
              } });
            </div>
            <p><strong>Ventajas:</strong></p>
            <ul>
              <li>Menos memoria</li>
              <li>Funciona con elementos dinÃ¡micos</li>
              <li>MÃ¡s fÃ¡cil de mantener</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- EJEMPLO PRÃCTICO -->
      <div class="section">
        <h2>ğŸ® Ejemplo PrÃ¡ctico</h2>
        <div class="warning-box">
          <strong>ğŸ“ Ejercicio:</strong> Haz click en cualquier cuadrado para
          mostrar su nÃºmero en el pie de pÃ¡gina.
        </div>

        <div class="controls">
          <button id="btnBorrarPie" class="danger">ğŸ—‘ï¸ Borrar Pie</button>
          <button id="btnAgregarCuadrado" class="success">
            â• Agregar Cuadrado
          </button>
          <button id="btnEliminarUltimo" class="danger">
            â– Eliminar Ãšltimo
          </button>
          <button id="btnReiniciar">ğŸ”„ Reiniciar</button>
        </div>

        <div id="contenedor"></div>

        <div id="pie" class="empty">
          Haz click en un cuadrado para ver su contenido aquÃ­
        </div>
      </div>

      <!-- ESTADÃSTICAS -->
      <div class="section">
        <h2>ğŸ“Š EstadÃ­sticas</h2>
        <div class="stats">
          <div class="stat-card">
            <div class="stat-number" id="statCuadrados">10</div>
            <div class="stat-label">Cuadrados</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="statClicks">0</div>
            <div class="stat-label">Clicks totales</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="statEventListeners">1</div>
            <div class="stat-label">Event Listeners</div>
          </div>
        </div>
      </div>

      <!-- CÃ“DIGO UTILIZADO -->
      <div class="section">
        <h2>ğŸ’» CÃ³digo Utilizado</h2>
        <div class="code-example">
          <span class="comment"
            >// 1. DelegaciÃ³n de eventos en el contenedor</span
          >
          contenedor.addEventListener(<span class="string">'click'</span>,
          <span class="keyword">function</span>(e) {
          <span class="comment"
            >// Verificamos si el click fue en un cuadrado</span
          >
          <span class="keyword">if</span> (e.target.classList.contains(<span
            class="string"
            >'cuadrado'</span
          >)) {
          <span class="comment">// e.target es el elemento clickeado</span>
          pie.textContent =
          <span class="string">'Has clickeado el cuadrado: '</span> +
          e.target.textContent; pie.classList.remove(<span class="string"
            >'empty'</span
          >);

          <span class="comment">// AnimaciÃ³n visual</span>
          e.target.classList.add(<span class="string">'selected'</span>);
          setTimeout(() => e.target.classList.remove(<span class="string"
            >'selected'</span
          >), 500); } });

          <span class="comment">// 2. BotÃ³n para borrar el pie</span>
          btnBorrarPie.addEventListener(<span class="string">'click'</span>,
          <span class="keyword">function</span>() { pie.textContent =
          <span class="string">'Haz click en un cuadrado...'</span>;
          pie.classList.add(<span class="string">'empty'</span>); });

          <span class="comment">// 3. Agregar cuadrado dinÃ¡micamente</span>
          <span class="comment"
            >// Â¡Funciona automÃ¡ticamente con delegaciÃ³n!</span
          >
          btnAgregarCuadrado.addEventListener(<span class="string">'click'</span
          >, <span class="keyword">function</span>() {
          <span class="keyword">let</span> nuevo = document.createElement(<span
            class="string"
            >'div'</span
          >); nuevo.classList.add(<span class="string">'cuadrado'</span>);
          nuevo.textContent = contador++; contenedor.append(nuevo); });
        </div>
      </div>
    </div>
  </body>
</html>
